
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>cube2rect documentation</title><meta name="generator" content="MATLAB 8.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2017-06-05"><meta name="DC.source" content="cube2rect_documentation.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1><tt>cube2rect</tt> documentation</h1><!--introduction--><p>The <tt>cube2rect</tt> reshapes a 3D matrix for use with many standard Matlab functions.</p><p><a href="CDT_Contents.html">Back to Climate Data Tools Contents</a></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Syntax</a></li><li><a href="#2">Description</a></li><li><a href="#3">Example 1: A simple 2x2 grid</a></li><li><a href="#6">Example 1b: Masking regions of data</a></li><li><a href="#7">Example 2: Sea surface temperatures:</a></li><li><a href="#8">Author Info</a></li></ul></div><h2>Syntax<a name="1"></a></h2><pre>A2 = cube2rect(A3)
A2 = cube2rect(A3,mask)</pre><h2>Description<a name="2"></a></h2><p>A2 = cube2rect(A3) for a 3D matrix <tt>A3</tt> whose dimension correspond to space x space x time, <tt>cube2rect</tt> reshapes the <tt>A3</tt> into a 2D matrix <tt>A2</tt> whose dimensions correspond to time x space.</p><p>A2 = cube2rect(A3,mask) uses only the grid cells corresponding to true values in a 2D <tt>mask</tt>. This option can reduce memory requirements for large datasets where some regions (perhaps all land or all ocean grid cells) can be neglected in processing.</p><h2>Example 1: A simple 2x2 grid<a name="3"></a></h2><p>Consider this 2x2 grid. At time 1, values are just over 100. By time 2, all of the values have increased by 100, except the lower left grid cell that increases by 120. And the trend continues at time 3, where all the values are on the order of 300. Here's the data:</p><pre class="codeinput"><span class="comment">% First time slice:</span>
A(:,:,1) = [101 103;
            102 104];

<span class="comment">% Second time slice:</span>
A(:,:,2) = [201 203;
            222 204];

<span class="comment">% Third time slice:</span>
A(:,:,3) = [301 303;
            342 304];
</pre><p>Many standard Matlab functions operate down columns of 2D matrices, and we can easily use those functions if we reshape <tt>A</tt> such that one dimension corresponds to time and the other dimension corresponds to space.  Here's how to reshape <tt>A</tt> with <tt>cube2rect</tt>:</p><pre class="codeinput">cube2rect(A)

<span class="comment">%</span>
<span class="comment">%      s p a c e</span>
<span class="comment">%     ----------&gt;</span>
<span class="comment">%  t | 101   102   103   104</span>
<span class="comment">%  i | 201   222   203   204</span>
<span class="comment">%  m | 301   342   303   304</span>
<span class="comment">%  e v</span>
<span class="comment">%</span>
</pre><pre class="codeoutput">ans =
   101   102   103   104
   201   222   203   204
   301   342   303   304
</pre><h2>Example 1b: Masking regions of data<a name="6"></a></h2><pre class="codeinput">mask = [true false;
        true true]

cube2rect(A,mask)
</pre><pre class="codeoutput">mask =
     1     0
     1     1
ans =
   101   102   104
   201   222   204
   301   342   304
</pre><h2>Example 2: Sea surface temperatures:<a name="7"></a></h2><pre class="codeinput">trend(cube2rect(A))
</pre><pre class="codeoutput">ans =
  100.0000  120.0000  100.0000  100.0000
</pre><h2>Author Info<a name="8"></a></h2><p>This function was written by <a href="http://www.chadagreene.com">Chad A. Greene</a> of the University of Texas Institute for Geophysics (UTIG), January 2017.</p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2012b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% |cube2rect| documentation 
% The |cube2rect| reshapes a 3D matrix for use with many standard Matlab functions. 
% 
% <CDT_Contents.html Back to Climate Data Tools Contents>
%% Syntax
% 
%  A2 = cube2rect(A3) 
%  A2 = cube2rect(A3,mask) 
% 
%% Description 
% 
% A2 = cube2rect(A3) for a 3D matrix |A3| whose dimension correspond to space x space x time, 
% |cube2rect| reshapes the |A3| into a 2D matrix |A2| whose dimensions correspond to time x space. 
% 
% A2 = cube2rect(A3,mask) uses only the grid cells corresponding to true values in a 2D |mask|. 
% This option can reduce memory requirements for large datasets where some regions (perhaps all land
% or all ocean grid cells) can be neglected in processing. 
% 
%% Example 1: A simple 2x2 grid
% Consider this 2x2 grid. At time 1, values are just over 100. By time 2, all of the values
% have increased by 100, except the lower left grid cell that increases by 120. And the
% trend continues at time 3, where all the values are on the order of 300. Here's the data: 

% First time slice: 
A(:,:,1) = [101 103; 
            102 104]; 
         
% Second time slice:          
A(:,:,2) = [201 203; 
            222 204]; 

% Third time slice:          
A(:,:,3) = [301 303; 
            342 304]; 

%% 
% Many standard Matlab functions operate down columns of 2D matrices, and we can 
% easily use those functions if we reshape |A| such that one dimension corresponds
% to time and the other dimension corresponds to space.  Here's how to reshape |A| 
% with |cube2rect|: 

cube2rect(A)         
         
% 
%      s p a c e 
%     REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH>
%  t | 101   102   103   104
%  i | 201   222   203   204
%  m | 301   342   303   304
%  e v 
% 
%% 


%% Example 1b: Masking regions of data

mask = [true false;
        true true]
          
cube2rect(A,mask)

%% Example 2: Sea surface temperatures: 

trend(cube2rect(A))


%% Author Info
% This function was written by <http://www.chadagreene.com Chad A. Greene> of the University of Texas Institute
% for Geophysics (UTIG), January 2017. 
##### SOURCE END #####
--></body></html>